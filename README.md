Youmix
======

Konpaku Youmu!
<pre><code>
                                       char*
                                     c[]={"'\
                                     x)/d)k^4\
                                     9943X)|)/\
                                     p)q^49943X\
                           )/l>lkq  -Z,)i>*/-100\
                          ,P/*&lkfipa`*/+jhjlndk`\
                          +konpaku_youmu+/7552/2/\
                          *9vqalj+m;*/myon~//ZUN/*\
                          sjla_-,~i8i(61>cjw->i((>\
                    /d..867,>xlkq*//*hdlk-,~d8k>|80\
                  >cjw-p8f^0X>/p>p..,lc-/p(67,~cjw-\
                 l8f^/p(<=X>/l>l..,lc-67(/l,/d..8/l[\
                |>|[80>xZ8i>p8k>d8q>l8f^.7**//*7*/3-\
                =l=u=n=a=t=i=c=//*X>cjw->/l>..l,~lc-\
                -i8/l,;<6,~i8-i.(<1,/1.7>cjw-Z83>Z((>\
              /d..8--i8i*7,#4,:-|[8-61(/p,:5?4,:/p..?/p..?1/=,\
              >xlc-i;33,~i8-i(30,>cjw->((i>/d..8/p..,|[8/p(61:5?4>\
              x>lc-i;61,_-,>lc-6688i,~lc-|,~/((d8<7>d.          .>p((>x/d..845>xx\
             >*/9/+100+saigyouji_yuyuko+/*/d85>w`qpwk.             upqv-q,>x","B)G!B'J!B'K\
    !B'L!B'M!=I$O!<Z!<Z!<[!<[!6[I!4[K!3[M!2[N!2[N!2[O!0[Z!0[[E                        !0[Q,T!/\
   [R/Z!&[[J:K!%[R0K&m1I!'[J<X,}!([FB1K*G!)[              B:}*F!)YB    ?m)E!                +U-aB3\
     e'F!,R,mB8a'E!/M,m#aB4a'E!2}-}#qz                          %a^#_:a(E!3e*I#q{$e#a$          a#^4a\
      (E!2a)u{$yz%mwn^._a'E!1a^uy{#                                               qomwo_.a#        a'E!\
       0aaqy{#a_{qa#a+{'a'E!/aqy                                                        J${%ay        um%\
       _a#q^e(E!/owzJ#y%aqmyvn                                                             ^w(a'        E!\
         .qwzJ$}$e#qmynn_y(e           (E!                                                    -qwz       K$}\
          $e#omqoo_y^m(E!-          q{|K$                                                       }#m        #a\
             L$aaa#y^#m(          E!-w|  #P#                                                     I#m        #a\
                L%oo_y           ^#}(E! ,qW  $I  #m#   a#K   %      yq                            _w^         #}\
                 )D!,          yL#L#Q# a#u  ayq q{_  #y^#   E!,     yyy    u                       y#J         $}\
                &ue          K#m# ya% w(E  !,J $e}  %m#   J#}'q qI  $m#    K(                 w^    #D!        ,P\
               #}&   X     'aqu mO(w ^#D! ,L# {d$  m$P   (_wV#a %o  ^#E!   ,K&                u_e    #qJ        3X\
              $_$   o_#   E!+  ea#m ae#_ #K2 _R$   _$    o_ #E!)m#  a#}#    ae#            aK 3nq     L$_        #a\
             a$E   !(a  e$y$ aa#P9_#L$_  #a eC$   D!'   ae$ yz%_$O 9aM#a$    au    C$D    !&a  m%     wz%_        %M\
             :S   #a$  _uD  #D!&oe$qwv* J<R $a   #a#   J#D  !%qm$a qo^ B(Q   $a#    a#     M!  $q      {%a        _o\
            ^B*  J$q  n_#  M!$oz$a#_q_  B4on_N  !#qw   z&o  q_B3qo _#N !#w    wz    v%e    #_B 3o      o_O!        qq\
           wqv  q_0  _(_  1aoa#O!y_{qv  q_1N5a  ae#P   !y   a{q{#q aB.  a#q   e#K   #F!    K%L #yz     $mB,e       $q\
           e#K  %E! maL# yz$IB(}%m}$K&  E!m#oO #eq{a  =K$   }#O$_#E!m#  aO#   m#q   nK4    N%V ,E!      #e#uU       $y\
           ^%  [D# }$O# I,E!#e$yQ#y{4} ,m#O$I! #e%yP  $J#   a?mmI%}!$a   %M   #I%   J#_    =ua I%}      !$a&L%      m&\
          L>u  a#I$}!%^'K%m&ye9K'I$G!  2o'e&va 6K+eE  !>a    *m6I-E!?a   *e4 }!@^*  e2}    !B  0^/      F!BB#E       !\
          BBD ","BB1F!BB0G !BB/}!BB.y C!BB-eE!BB,e#E! BB+    e$E! BB+a   %E! BB*a&  E!BB  )a' E!BB(     a)E !BB      'a\
          *E! BB&a, E!BB% a-E!BB $a/E !B B#a0F!BB  a2E!BA    a4E! B@a6E  !B-W:O!B& [D)P'  U!? O3a$U      &e  )K      !=\
          J9a#I*I&  e-J!  <e;a}/   m'e/I  !:e<a#m& a&e'e2     G!9  a<a#  m%}(e)e2  G!7e<  e%m%I&m,e      2F  !6e      <\
          e&m&P/e3F!5a;e (}'N2e    2F!4a;e*}*m5e2F!3a:e-[     C0a   2F!  2a:e0 [E-a3F !1a9e7I*K-a4F      !0  a8e      B\
          -a+e6F!/e8 eB >a7F !/    a7a*W   6e)a8F!.a0[D,M      ,O    'a  &N)F!.a*[F7I$K'I$[F#F! -a(      I$   JB      *K\
          0P1M!-a%}    %O&K 'IB    )e<}   !.a  #e#}*K&uK                 B5K/F!/uoe,m)I'e'K&K2S  -E      !0   }$e     .e\
         +e([  R'm    ,m+E! 1ua   .a+e   .I     )e*R1e)E!                ,J    $a/a+a0})a,eI3a&  F!      )J   &a/     a+\
       e4e'a  ,e%    e0a&E! 'e*   a/a*   J4a   &a.a%e.e%                 E    !&a*  a0a)N0e(a.a  %a     .a#   E!%     a+\
      a0a   'R-m    *a- e&  a-a   E!$    a-a.a'U*},e-a&                       a,     qD!%e+e/a%  m.     e&J   +}-a  '  a\
     +uD   !&}*    e.e %m0  e#}   $e      &ye(a(e+yC!)a                       &}.   m%m2qm&em%I &m*     e)u   E!*a $y  _\
    'I%   m3ya(    J+  eM'  e)u   E!       *e#ea&K%m#N                        &I.}'L#Q%a(K!+eaa $L%     Y#    }/m# X&M ,\
    K!   -}%e#    I#a  #I#  a#Q   /u        eR+J0I!/                          a#q}$e#m%_$P3aa$  L,L    1F!    .a#qm%ae %\
   a%P  3^_%K,   eI0   E!-  a#q   e%                                           am&e$M7^a$L,e$L  ,E!    ,a$    ya%ue&U=T-\
  a%P  &E! +a$   y_'   L'    U=   T-                                             e'P$E!*a  %y_  (M    %U>     R.e'eK#E!(\
  e&   K.  em#  S@Q    /e    'a$  K!'                                                      e&   K7    mPB    #Q.e'e&}!&a\
 &qe  7eL  B'O  /e'    a$   }!%a  &am                                                     :aB  9e,   m'e     #G!$a%e%m:a\
 B8  m,}(  uE!  $a$e   'm   9aB7   I-                                                     m(   E!$   ae,    a6aB5ee*}(F!\
%y_  ,a4a  B6a  $a(m)  F!   %}2a2  e3a                  (a          4e                   &e'   m)   G!&m    0m2e5O8a&e&}\
*G! 'a#_    (m 2eB8a$  }&   K)G!'  aa(                   }3mB8a#m%I#a                   %}!   'ae   (m4I   B3}$}%I%a%G!'\
qe' I5JB.   J$ }%K$a#  }!' L(L 4LB  'N#I                                               $L$    a}!  %J$a#   I$a1P=K$m Q%y\
|D!$uooI$   m1J#Q(R'eP 'N! #J&  qK$  }/K*Z                                           ,aP)    J!I  (y{O(   weB.qO+G!   }(\
y^R$M B1y   }%e*E!#e&I *[C B2J  *E!  #a%J-XB                                      4}!,J1   SB6F! ,K5LB9  C!.K","fm    dw\
/f^X8  ~'   ","')'","ebfcf dfef  ffg  b"} ,*a,n[                              1<<16],y,  *u,t[1 <<16],*i;int(  _)     ,l;
/*(45  5)U   */#include/*. omoik  ane  .n    jkudnpZ|jp                  hp.*2007*7*/   <stdio.h>/*h|jk{**_P          K*/
 void   Z(){ l=l-34;for(;l--;*a++  =32 );}        int/**/main(){a=n;y=5;for(u =c[5];  *u;u++)if(*u- 32){for          (i=
 c[*u    -98 ];*i;i++)if(32-*i )*a ++=* i^y                  ;y^=5;          }_=l;  u=n;a=t;i=c[+  2//**/2
 /*6(     8i8 p8k8d8q8l8f8**/]  ;for(;*i ;++                                i){if ((l=* i)>93){   l=(l+-
  94)      *4+2;for(_= 6;_--;*   a++=((l= l/                               2)&1 )?(y   ^=(34-*   u)?0:1
  )?*       u++:*u++:4   *8);}     if(l>66){l                            =(l- 65);    for(;--  l;*a++
   =          *u++)y^=*   u-34?     0:1 ;};if(                         l>34)Z();     if(33==  l){if
                (y   )     {*--      a   =92;a                       ++;u--;}*         a++=  10;
                            }};           /*<*.                     455.vdl           b|j
                             pol           Z|p|                    pnj.*/
                              *             a=0;                  return
                                              +                  puts
                                                                 (t)
                                                                ;}
</pre></code>
[Youmu](http://uguu.org/src_youmu_c.html)

看我脑洞大开～

Note:
    关于Makefile里的-Wno-invalid-offsetof编译选项，由于使用对象是standard-layout，对其使用offsetof是安全的。见ISO IEC 14882:2011 18.2.4。后来发现这个方法不好，于是手工push了当前对象的this，当调用thread_exit时取得栈底部的值。
    关于Youmix的std::function实现，确实不好看，只不过它还支持这种形式的std::function<int>定义，其与std::function<int(void)>是等价的。
